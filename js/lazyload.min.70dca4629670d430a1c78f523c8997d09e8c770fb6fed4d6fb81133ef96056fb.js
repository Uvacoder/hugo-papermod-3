(function(a,b){typeof exports=='object'&&typeof module!='undefined'?module.exports=b():typeof define=='function'&&define.amd?define(b):(a=a||self,a.LazyLoad=b())})(this,function(){'use strict';var e,T,S,Q,M,aS,H,G,aO,u,F,E,aN,o,B,z,w,a,aJ,h,d,r,x,aF,az,A,aw,at,c,f,j,ar,ap,I,i,an,am,n,aj,O,ah,Z,R,b,t,U,V,W,X,v,s,_,$,aa,ab,ac,ad,ae,af,ag,P,ai,N,ak,al,L,K,ao,m,aq,k,C,au,av,p,ax,ay,l,aA,aB,aC,aD,aE,y,aG,aH,aI,aV,aK,aL,aM,D,q,aP,aQ,aR,J,aT,aU,g;function Y(){return Y=Object.assign||function(d){for(var a=1,b,c;a<arguments.length;a++){b=arguments[a];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d},Y.apply(this,arguments)}return e=typeof window!="undefined",T=e&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),S=e&&"IntersectionObserver"in window,Q=e&&"classList"in document.createElement("p"),M=e&&window.devicePixelRatio>1,aS={elements_selector:".lazy",container:T||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},H=function(a){return Y({},aS,a)},G=function(d,e){var b="LazyLoad::Initialized",c=new d(e),a;try{a=new CustomEvent(b,{detail:{instance:c}})}catch(d){a=document.createEvent("CustomEvent"),a.initCustomEvent(b,!1,!1,{instance:c})}window.dispatchEvent(a)},aO=function(b,a){if(!a)return;if(a.length)for(var c=0,d;d=a[c];c+=1)G(b,d);else G(b,a)},u="loading",F="loaded",E="applied",aN="entered",o="error",B="native",z="data-",w="ll-status",a=function(a,b){return a.getAttribute(z+b)},aJ=function(a,d,b){var c=z+d;if(b===null){a.removeAttribute(c);return}a.setAttribute(c,b)},h=function(b){return a(b,w)},d=function(a,b){return aJ(a,w,b)},r=function(a){return d(a,null)},x=function(a){return h(a)===null},aF=function(a){return h(a)===u},az=function(a){return h(a)===o},A=function(a){return h(a)===B},aw=[u,F,E,o],at=function(a){return aw.indexOf(h(a))>=0},c=function(a,b,c,d){if(!a)return;if(d!==void 0){a(b,c,d);return}if(c!==void 0){a(b,c);return}a(b)},f=function(a,b){if(Q){a.classList.add(b);return}a.className+=(a.className?" ":"")+b},j=function(a,b){if(Q){a.classList.remove(b);return}a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},ar=function(a){a.llTempImage=document.createElement("IMG")},ap=function(a){delete a.llTempImage},I=function(a){return a.llTempImage},i=function(c,a){if(!a)return;var b=a._observer;if(!b)return;b.unobserve(c)},an=function(a){a.disconnect()},am=function(a,b,c){b.unobserve_entered&&i(a,c)},n=function(a,b){if(!a)return;a.loadingCount+=b},aj=function(a){if(!a)return;a.toLoadCount-=1},O=function(a,b){if(!a)return;a.toLoadCount=b},ah=function(a){return a.loadingCount>0},Z=function(a){return a.toLoadCount>0},R=function(d){for(var b=[],c=0,a;a=d.children[c];c+=1)a.tagName==="SOURCE"&&b.push(a);return b},b=function(b,c,a){if(!a)return;b.setAttribute(c,a)},t=function(a,b){a.removeAttribute(b)},U=function(a){return!!a.llOriginalAttrs},V=function(a){if(U(a))return;var b={};b.src=a.getAttribute("src"),b.srcset=a.getAttribute("srcset"),b.sizes=a.getAttribute("sizes"),a.llOriginalAttrs=b},W=function(a){if(!U(a))return;var c=a.llOriginalAttrs;b(a,"src",c.src),b(a,"srcset",c.srcset),b(a,"sizes",c.sizes)},X=function(c,d){b(c,"sizes",a(c,d.data_sizes)),b(c,"srcset",a(c,d.data_srcset)),b(c,"src",a(c,d.data_src))},v=function(a){t(a,"src"),t(a,"srcset"),t(a,"sizes")},s=function(b,c){var a=b.parentNode,d;if(!a||a.tagName!=="PICTURE")return;d=R(a),d.forEach(c)},_=function(a,b){var c=R(a);c.forEach(b)},$=function(a){s(a,function(a){W(a)}),W(a)},aa=function(a,b){s(a,function(a){V(a),X(a,b)}),V(a),X(a,b)},ab=function(a){s(a,function(a){v(a)}),v(a)},ac=function(c,d){b(c,"src",a(c,d.data_src))},ad=function(c,d){_(c,function(c){b(c,"src",a(c,d.data_src))}),b(c,"poster",a(c,d.data_poster)),b(c,"src",a(c,d.data_src)),c.load()},ae={IMG:aa,IFRAME:ac,VIDEO:ad},af=function(b,d,f){var g=a(b,d.data_bg),e=a(b,d.data_bg_hidpi),c=M&&e?e:g;if(!c)return;b.style.backgroundImage='url("'.concat(c,'")'),I(b).setAttribute("src",c),N(b,d,f)},ag=function(b,c,f){var g=a(b,c.data_bg_multi),e=a(b,c.data_bg_multi_hidpi),d=M&&e?e:g;if(!d)return;b.style.backgroundImage=d,ai(b,c,f)},P=function(a,c){var b=ae[a.tagName];if(!b)return;b(a,c)},ai=function(a,b,e){f(a,b.class_applied),d(a,E),b.unobserve_completed&&i(a,b),c(b.callback_applied,a,e)},N=function(a,b,e){n(e,+1),f(a,b.class_loading),d(a,u),c(b.callback_loading,a,e)},ak=["IMG","IFRAME","VIDEO"],al=function(a){return ak.indexOf(a.tagName)>-1},L=function(b,a){a&&!ah(a)&&!Z(a)&&c(b.callback_finish,a)},K=function(a,b,c){a.addEventListener(b,c),a.llEvLisnrs[b]=c},ao=function(a,b,c){a.removeEventListener(b,c)},m=function(a){return!!a.llEvLisnrs},aq=function(a,b,c){m(a)||(a.llEvLisnrs={});var d=a.tagName==="VIDEO"?"loadeddata":"load";K(a,d,b),K(a,"error",c)},k=function(a){var b,c,d;if(!m(a))return;b=a.llEvLisnrs;for(c in b)d=b[c],ao(a,c,d);delete a.llEvLisnrs},C=function(a,c,b){ap(a),n(b,-1),aj(b),j(a,c.class_loading),c.unobserve_completed&&i(a,b)},au=function(i,a,b,e){var g=A(a);C(a,b,e),f(a,b.class_loaded),d(a,F),c(b.callback_loaded,a,e),g||L(b,e)},av=function(i,a,b,e){var g=A(a);C(a,b,e),f(a,b.class_error),d(a,o),c(b.callback_error,a,e),g||L(b,e)},p=function(a,c,d){var b=I(a)||a,f,e;if(m(b))return;f=function(e){au(e,a,c,d),k(b)},e=function(e){av(e,a,c,d),k(b)},aq(b,f,e)},ax=function(a,b,c){ar(a),p(a,b,c),af(a,b,c),ag(a,b,c)},ay=function(a,b,c){p(a,b,c),P(a,b),N(a,b,c)},l=function(a,b,c){al(a)?ay(a,b,c):ax(a,b,c)},aA=function(a,b,c){p(a,b,c),P(a,b),d(a,B)},aB=function(a,e,b,d){if(!b.cancel_on_exit)return;if(!aF(a))return;if(a.tagName!=="IMG")return;k(a),ab(a),$(a),j(a,b.class_loading),n(d,-1),r(a),c(b.callback_cancel,a,e,d)},aC=function(a,g,b,e){if(d(a,aN),f(a,b.class_entered),j(a,b.class_exited),am(a,b,e),c(b.callback_enter,a,g,e),at(a))return;l(a,b,e)},aD=function(a,d,b,e){if(x(a))return;f(a,b.class_exited),aB(a,d,b,e),c(b.callback_exit,a,d,e)},aE=["IMG","IFRAME"],y=function(a){return a.use_native&&"loading"in HTMLImageElement.prototype},aG=function(b,c,a){b.forEach(function(b){if(aE.indexOf(b.tagName)===-1)return;b.setAttribute("loading","lazy"),aA(b,c,a)}),O(a,0)},aH=function(a){return a.isIntersecting||a.intersectionRatio>0},aI=function(a){return{root:a.container===document?null:a.container,rootMargin:a.thresholds||a.threshold+"px"}},aV=function(c,a,b){c.forEach(function(c){return aH(c)?aC(c.target,c,a,b):aD(c.target,c,a,b)})},aK=function(a,b){b.forEach(function(b){a.observe(b)})},aL=function(a,b){an(a),aK(a,b)},aM=function(a,b){if(!S||y(a))return;b._observer=new IntersectionObserver(function(c){aV(c,a,b)},aI(a))},D=function(a){return Array.prototype.slice.call(a)},q=function(a){return a.container.querySelectorAll(a.elements_selector)},aP=function(a){return D(a).filter(x)},aQ=function(a){return az(a)},aR=function(a){return D(a).filter(aQ)},J=function(a,b){return aP(a||q(b))},aT=function(a,b){var c=aR(q(a));c.forEach(function(b){j(b,a.class_error),r(b)}),b.update()},aU=function(a,b){if(!e)return;window.addEventListener("online",function(){aT(a,b)})},g=function(b,c){var a=H(b);this._settings=a,this.loadingCount=0,aM(a,this),aU(a,this),this.update(c)},g.prototype={update:function(c){var b=this._settings,a=J(c,b);if(O(this,a.length),T||!S){this.loadAll(a);return}if(y(b)){aG(a,b,this);return}aL(this._observer,a)},destroy:function(){this._observer&&this._observer.disconnect(),q(this._settings).forEach(function(a){delete a.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(c){var a=this,b=this._settings,d=J(c,b);d.forEach(function(c){i(c,a),l(c,b,a)})}},g.load=function(a,b){var c=H(b);l(a,c)},g.resetStatus=function(a){r(a)},e&&aO(g,window.lazyLoadOptions),g})