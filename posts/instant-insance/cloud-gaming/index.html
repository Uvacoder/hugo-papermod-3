<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Personal Cloud Gaming Rig Setup | 💻 ⏬ under 😜</title><meta name=keywords content="aws,cloud,gaming,cyberpunk,Australia,4k"><meta name=description content="Setup and configuration of AWS EC2 using terraform for cloud gaming"><meta name=author content="Debanjan Basu"><link rel=canonical href=https://techdownunder.ga/posts/instant-insance/cloud-gaming/><link href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><link rel=icon href=https://techdownunder.ga/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://techdownunder.ga/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://techdownunder.ga/favicon-32x32.png><link rel=apple-touch-icon href=https://techdownunder.ga/apple-touch-icon.png><link rel=mask-icon href=https://techdownunder.ga/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><script data-ad-client=ca-pub-5205766380454070 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script async type=text/javascript src=/js/lazyload.min.5f5757b2c7f6082f79d1d2623426b52455de7e43815c4f1b0514f79f187eaa23.js integrity="sha256-X1dXssf2CC950dJiNCa1JFXefkOBXE8bBRT3nxh+qiM=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-116860215-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Personal Cloud Gaming Rig Setup"><meta property="og:description" content="Setup and configuration of AWS EC2 using terraform for cloud gaming"><meta property="og:type" content="article"><meta property="og:url" content="https://techdownunder.ga/posts/instant-insance/cloud-gaming/"><meta property="og:image" content="https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png"><meta property="article:published_time" content="2021-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-27T15:52:57+11:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png"><meta name=twitter:title content="Personal Cloud Gaming Rig Setup"><meta name=twitter:description content="Setup and configuration of AWS EC2 using terraform for cloud gaming"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Personal Cloud Gaming Rig Setup","name":"Personal Cloud Gaming Rig Setup","description":"The problem During times of a pandemic, many have reverted to their desks at home not only for work, but also beyond it. All this started, as I tried to play CyberPunk 2077 🤖. Now, …","keywords":["aws","cloud","gaming","cyberpunk","Australia","4k"],"articleBody":"The problem During times of a pandemic, many have reverted to their desks at home not only for work, but also beyond it. All this started, as I tried to play CyberPunk 2077 🤖. Now, I’m not a “gamer”, please don’t judge me, but I do enjoy a good book, and sci-fi is my forte. So couldn’t give this one a pass. The challenge was that I’ve quite a beefy rig, with 32GB DDR4 ram, and a 16-core XEON, with a measly Quadro k1200 😓. Even worse was trying on the XBOX One X from last generation constantly crashing.\n☁ Cloud gaming has taken shape rapidly in 2020, behind the scenes with platforms such as Stadia, GeForce NOW, and even AWS launching Luna. However, wide adoption is yet to be seen here in this subcontinent 🦘🪃, with us still relying on painfully slow NBN, and over expensive capped mobile 5G data. To add to the pain, the price of a relatively new GPU is to sell a kidney off, if they’re even available in stores ! The Next-gen consoles, are all out of stock, and scalpers are aiming for afr rich-list this year 💵.\n Solution This post is about how we can use AWS to our rescue, and leverage gpu instances, albeit not originally designed for gaming, to the rescue. However, it wouldn’t stop me from playing a game after almost a decade.\nTools in my arsenal 🛠 AWS G4dn EC2 Instance G4dn instances, powered by NVIDIA T4 GPUs, are the lowest cost GPU-based instances in the cloud for machine learning inference and small scale training. They also provide high performance and are a cost-effective solution for graphics applications that are optimized for NVIDIA GPUs using NVIDIA libraries such as CUDA, CuDNN, and NVENC. They provide up to 8 NVIDIA T4 GPUs, 96 vCPUs, 100 Gbps networking, and 1.8 TB local NVMe-based SSD storage and are also available as bare metal instances.\nWell Whatttt !!!\nFrom what I can say, the T4 is half the performance of an RTX 2080, still at the cost of the instances, it’s a steal. Now the 2080 is not even remotely close to what I would love to have, i.e. a 3080/90, but at least ray tracing, and NVENC. I would come to the technical details of NVENC soon, and trust me it’s important 🤔.\n » AWS G4dn Instance Specs «\n These instances were clearly designed for machine learning, so I guess it’s fair if they don’t perform as amazing gaming rigs, spewing out unicorn vomit. But they still put out a fair fight, for the price, and no need to upgrade to a newer GPU/CPU/RAM every season.\n  Parsec I guess there’s no point to argue over the almighty Linus Tech Tips, when he’s using this for his team to edit LTT videos. Shhhh… I’m a nerd, and not advocating for the almighty. But once a birdie referred to me as “Brown Anthony” 🤎, and actually I was quite happy for it 😊.\n   The amazing thing about Parsec is the BUD protocol. Parsec uses its own peer-to-peer networking protocol called BUD; Better User Datagrams (naming is hard). BUD has been optimized for low-latency video delivery based on the data gathered over a three year period. With a 97% NAT traversal success rate and lightning fast adjustment to packet loss and congestion, BUD is the cornerstone of the Parsec SDK.\n   The basic setup for game streaming involves\n capture - encode - network - decode - render -capture\n  » Parsec-AWS Architecture «\n NVENC Hardware plays a huge role in the performance of these connections. The most important part of that being the encoding latency of the video. Encoding latency is the amount of time it takes for the hardware on a GPU to compress a frame of video captured off of the GPU to prepare it to be shipped across the internet to the guest PC. Nvidia’s NVENC is approximately 2.59 times faster than AMD VCE and 1.89 times faster than Intel Quick Sync. The median encoding latency for an Nvidia card is 5.8 milliseconds; whereas, the median encoding latency on VCE is 15.06 milliseconds. This encoding latency is measured across all Co-Play sessions in Parsec, so there’s definitely a performance difference between newer generation cards than older generation cards, which we will examine in a future post.\n » RTX Game Streaming «\nThe NVENC Encoder plays key role in the decision behind selection of the G4dn instance, considering it supports this feature. Parsec can not only use this, but also encode in H265 hardware-accelerated, as of now. This was ideally what I was looking for, and a win-win for this use case.\nAWS Automation 🤖 While there have been some isolated attempts at AWS Cloud Gaming approach, none so far has dived into this simple tool. At the end of the day to reduce costs, as simple trick is to create an ami of the instance (it also creates the snapshot with it). This is a much simpler approach than AWS Lambda - based one, and as I always say KISS…\nAutomation Document\n\"mainSteps\": [ { \"name\": \"createImage\", \"action\": \"aws:createImage\", \"onFailure\": \"Abort\", \"inputs\": { \"InstanceId\": \"{{ InstanceId }}\", \"ImageName\": \"{{ InstanceId }}-{{global:DATE_TIME}}-{{automation:EXECUTION_ID}}\", \"ImageDescription\": \"${var.instance_name}-ami-{{global:DATE_TIME}}\", \"NoReboot\": \"{{ NoReboot }}\" }, \"nextStep\": \"stopInstances\" }, { \"name\": \"stopInstances\", \"action\": \"aws:changeInstanceState\", \"onFailure\": \"step:deleteImage\", \"inputs\": { \"InstanceIds\": [\"{{ InstanceId }}\"], \"DesiredState\": \"terminated\" }, \"nextStep\": \"deleteImage\" }, { \"name\": \"deleteImage\", \"action\": \"aws:deleteImage\", \"onFailure\": \"step:storeAMIId\", \"inputs\": { \"ImageId\": \"{{ ToDeleteImageId }}\" }, \"nextStep\": \"storeAMIId\" }, { \"name\": \"storeAMIId\", \"action\": \"aws:executeAwsApi\", \"onFailure\": \"Abort\", \"inputs\": { \"Service\": \"ssm\", \"Api\": \"PutParameter\", \"Name\": \"${var.ssm_ami_parameter_name}\", \"Overwrite\": true, \"Value\": \"{{ createImage.ImageId }}\" } } ] This beautifully does…\n Creates the AMI - Terminates the instance - Deletes the older Image - Stores the new AMI Id in SSM Parameter Store\n The next time terraform apply is triggered, it would grab this new ami from the SSM Parameter Store as a data source.\n My Setup - Terraform 🪄 As usual, I would’ve and would be automating the provisioning, so I ended up using my old friend Terraform for the job. Although, you probably can us any tools such as Pulumi / AWS CDK / CloudFormation, and possibly even AWS CLI 😜. I’ve uploaded the repo to github for reference and usage, it’s well documented in-code for the curious one. However, the ultimate goal is yet to be achieved, fully automated provisioning.\ngithub.com/debanjanbasu/instant-instance - Github Repo\nThe setup involves simple steps of\n1. Initialize the tf backend - and the EC2 Instance  terraform init Downloads the initial modules and all terraform apply -auto-approve Creates the backend.tf file with the config and the s3 bucket terraform init -force-copy Copies the local state to s3 terraform output instance_password This is the generated Administrator password for the instance  2. RDP into the instance Immediately as you RDP into the instance the automation kicks in, this is a deferred windows task to prepare the entire instance for gaming - SWEEEET 🤟.\nIt installs the following items automagically:\n Parsec Latest NVIDIA Grid Driver - with AWS License Razer Surround - No need to register or login, this is for Audio Passthrough The following tools optionally - via variables passed to the cloud-gaming-instance tf module  Steam GOG Galaxy UPlay Origin Epic Games Launcher     » Parsec Auto Installation «\n3. Configure The Instance The instance is pretty much pre-configured with the minimal intervention.\n1. Parsec Login You would still need to login into your Parsec account, and verify the confirmaiton email 📩, as a new machine is being joined to the network.\n » Parsec Login «\n2. Ignore / Login into Razer Surround Either login / do nothing 🙃.\n » Razer Ignore «\n3. Setup Ephimeral Storage as Game Disk / Cache These instances do come with high-speed Ephimeral Storage, so why not use it to download or as a game-cache. Simply open up the Disk Partition Utility to initialize this disk, or for advanced users EC2 Launch v2 (the selected image comes pre-built with this beauty).\n » Setup Ephimeral «\n4. Increase Parsec Bitrate (Optional) If you’ve got a good internet connection, why not increase the maximum bitrate, this can be increased even more from a manual config. I would recommend 100MBps custom config, for NBN users on 100MBps plans. Be careful though, if you’re not on Unlimited bandwith.\n » Parsec Max Bitrate «\n5. Setup Shutdown on Idle \u0026 1 hour notice (Optional) These are nifty scripts (located conveniently on the desktop) to shutdown the instance on Idle, and to notify the gamer, when 1 hour of gaming is about to be reached (EC2 instances are billed hourly).\n » Idle Shutdown « » 1 hour notice «\n6. Overclocking \u0026 NVIDIA OpenGL RDP (Optional but highly recommended)   What’s gaming, without a bit of overclocking! Fortunately the G4dn instances do support nvsmi tool. Use the following in PowerShell to configure it:\ncd \"C:\\Program Files\\NVIDIA Corporation\\NVSMI\" .\\nvidia-smi --auto-boost-default=0 .\\nvidia-smi -ac \"5001,1590\" There’s a powershell script in the repo to automate this too.\nNVIDIA has created a special tool for GeForce GPUs to accelerate Windows Remote Desktop streaming with GeForce drivers R440 or later.\n  Download and run the executable (nvidiaopenglrdp.exe) from the DesignWorks website as Administrator on the remote Windows PC where your OpenGL application will run. A dialog will confirm that OpenGL acceleration is enabled for Remote Desktop and if a reboot is required.\nYou would need to hold an nvidia developer account, or create one for free.\n  7. Client Machine Parsec Settings (Optional but highly recommended) Parsec does support hardware accelerated decoding on the client machine too. If your pc supports H.265, possibly the best, but H.264 doesn’t lag behind too much. Ensure these options are checked to get the best possible results.\n » Parsec Hardware Decoding «\n8. Custom Resolution Utility (Optional but highly recommended) Parsec does support up-to 4k natively without any issue, but I do happen to have a super-ultrawide gaming monitor. So why not get gaming at those exceptional aspect ratios. Unfortunately, the NVIDIA driver provided by AWS doesn’t allow for custom resolution changes. The workaround is to use this sweet tool called Custom Resolution Utility. Fire it up, and you can add any custom resolutions, or directly export and import form your client machine, easy.\n Cost of Cloud Gaming on AWS The infrastructure provisioned is already highly optimized, but can be improved further. The cost depends on your region and the type of instance you are using but AWS’ scalable platform allows individuals to create a cloud gaming setup inexpensively. If you wanted to keep the prices as low as possible, you can use a spot Amazon EC2 instance. What spot pricing allows you to do is bid on unused Amazon EC2 instance at a significant reduced rate. Roughly 1/7th the regular cost than regular instances. However, costs vary depending on the region, and prices will also reflect the demand of these spot instances. By comparison, on-demand instances have a fixed rate that won’t fluctuate based on demand unless Amazon changes them.\nSome sample data for reference are (based on Sydney Region):\n   GPU Instances - Current Generation  Cost / month     g4dn.xlarge (10 hours of gaming/week) $0.3892 per Hour $15.57   Snapshot Storage Cost (1% change, as you play daily) 128GB $9.13   Total (per month)  $24.70    Not bad for $24.70 for a month, gaming at maximum settings 60FPS with Ray-Tracing 🌈. There are competing services elsewhere, but this allows for any games to be played, with BYOL licensing, greatly reducing the overall cost.\n The cost of Cyberpunk 2077 on launch day itself was $100 😅\n You’ll need to use some disk space for the Amazon EC2 instance. Whenever you decide to spin up an Amazon EC2 instance, you base the instance on an AMI (Amazon Machine Image). The AMI will already be pre-configured with a Windows install and will be copied to a general-purpose (gp3) Amazon EBS storage (Elastic Block Store). Whenever you terminate the instance, the Amazon EBS storage is deleted with it, and a snapshot created for it. The price for this storage depends on the region you are in.\nThe cost settings for the infra is can be controlled from this bit in terraform from the main.tf file, and the amount from AWS spot historical data.\nmodule \"instant_instance\" { ... instance_type = \"g4dn.2xlarge\" instance_name = local.instance_name# Check pricing from https://aws.amazon.com/ec2/spot/pricing/ # TODO - Automate in the future  spot_max_price = 1.0# IMP - Please install the tools and all in the first time  skip_install = false ... } To achieve maximum cost optimization, the disks are terminated immediately on shutdown. There is automation also to create the AMI and cleanup of previous one, for playing again.\n$InstanceId=(Invoke-WebRequest -Uri 'http://169.254.169.254/latest/meta-data/instance-id').Content # Run the automation job aws ssm start-automation-execution --document-name \"image-reimage\" ` --parameters InstanceId=$InstanceId You can either execute this from within the instance, or from your local environment, or even as terraform local-exec.\nFor your eyes only 👀  » Parsec Low Latency « » In-Game « » RTX max settings «\nTODOs and future plans (Conclusion)  Automate the retrieval of Spot Instance price Send a push notification to the user’s device before spot termination Automate offloading of games to S3 Automate activation of Parsec Account if possible Build a custom Parsec-SDK based client  As of now, this is one of the best ways to enjoy game streaming in Australia, until GeForce Now launches down under 😭🇦🇺. Thereafter, the cost of the games themselves might balloon the overall cost eventually. Trust me, this happens more often than we realize with subscription based services.\nMy future goal is to completely automate this provisioning, and allow anyone with an AWS account to be able to just enter their access-key to spin up an Instant Cloud Gaming Instance immediately.\nPlease feel free to reach out to me for further clarification, to get your setup up and running. It might sound complex, but tust me it’s worth it 😅. Always open to advice, and improvements.\nReach out to me from any of the channels below….\n👇\n","wordCount":"2328","inLanguage":"en","image":"https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png","datePublished":"2021-01-18T00:00:00Z","dateModified":"2021-01-27T15:52:57+11:00","author":{"@type":"Person","name":"Debanjan Basu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://techdownunder.ga/posts/instant-insance/cloud-gaming/"},"publisher":{"@type":"Organization","name":"💻 ⏬ under 😜","logo":{"@type":"ImageObject","url":"https://techdownunder.ga/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://techdownunder.ga accesskey=h title="💻 ⏬ under 😜 (Alt + H)">💻 ⏬ under 😜</a>
<span class=logo-switches><span class=theme-toggle title="(Alt + T)"><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://techdownunder.ga/archives title=Archive><span>Archive</span></a></li><li><a href=https://techdownunder.ga/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://techdownunder.ga/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://techdownunder.ga/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Personal Cloud Gaming Rig Setup</h1><div class=post-description>Setup and configuration of AWS EC2 using terraform for cloud gaming</div><div class=post-meta>January 18, 2021&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Debanjan Basu</div></header><figure class=entry-cover><a href=https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png target=_blank rel="noopener noreferrer"><img srcset="https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1_hu40051b6e47c708a61a6d4da95b4abe53_4123948_360x0_resize_box_2.png 360w ,https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1_hu40051b6e47c708a61a6d4da95b4abe53_4123948_480x0_resize_box_2.png 480w ,https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1_hu40051b6e47c708a61a6d4da95b4abe53_4123948_720x0_resize_box_2.png 720w ,https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1_hu40051b6e47c708a61a6d4da95b4abe53_4123948_1080x0_resize_box_2.png 1080w ,https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1_hu40051b6e47c708a61a6d4da95b4abe53_4123948_1500x0_resize_box_2.png 1500w ,https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png 2880w" sizes="(min-width: 768px) 720px, 100vw" src=https://techdownunder.ga/posts/instant-insance/cloud-gaming/images/cyberpunk-2077-running-1.png alt="Cloud Gaming on AWS"></a></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#the-problem aria-label="The problem">The problem</a></li><li><a href=#solution aria-label=Solution>Solution</a></li><li><a href=#tools-in-my-arsenal- aria-label="Tools in my arsenal 🛠">Tools in my arsenal 🛠</a><ul><li><a href=#aws-g4dn-ec2-instance aria-label="AWS G4dn EC2 Instance">AWS G4dn EC2 Instance</a></li><li><a href=#parsec aria-label=Parsec>Parsec</a></li><li><a href=#nvenc aria-label=NVENC>NVENC</a></li><li><a href=#aws-automation- aria-label="AWS Automation 🤖">AWS Automation 🤖</a></li></ul></li><li><a href=#my-setup---terraform- aria-label="My Setup - Terraform 🪄">My Setup - Terraform 🪄</a><ul><li><a href=#1-initialize-the-tf-backend---and-the-ec2-instance aria-label="1. Initialize the tf backend - and the EC2 Instance">1. Initialize the tf backend - and the EC2 Instance</a></li><li><a href=#2-rdp-into-the-instance aria-label="2. RDP into the instance">2. RDP into the instance</a></li><li><a href=#3-configure-the-instance aria-label="3. Configure The Instance">3. Configure The Instance</a><ul><li><a href=#1-parsec-login aria-label="1. Parsec Login">1. Parsec Login</a></li><li><a href=#2-ignore--login-into-razer-surround aria-label="2. Ignore / Login into Razer Surround">2. Ignore / Login into Razer Surround</a></li><li><a href=#3-setup-ephimeral-storage-as-game-disk--cache aria-label="3. Setup Ephimeral Storage as Game Disk / Cache">3. Setup Ephimeral Storage as Game Disk / Cache</a></li><li><a href=#4-increase-parsec-bitrate-optional aria-label="4. Increase Parsec Bitrate (Optional)">4. Increase Parsec Bitrate (Optional)</a></li><li><a href=#5-setup-shutdown-on-idle--1-hour-notice-optional aria-label="5. Setup Shutdown on Idle &amp;amp; 1 hour notice (Optional)">5. Setup Shutdown on Idle & 1 hour notice (Optional)</a></li><li><a href=#6-overclocking--nvidia-opengl-rdp-optional-but-highly-recommended aria-label="6. Overclocking &amp;amp; NVIDIA OpenGL RDP (Optional but highly recommended)">6. Overclocking & NVIDIA OpenGL RDP (Optional but highly recommended)</a></li><li><a href=#7-client-machine-parsec-settings-optional-but-highly-recommended aria-label="7. Client Machine Parsec Settings (Optional but highly recommended)">7. Client Machine Parsec Settings (Optional but highly recommended)</a></li><li><a href=#8-custom-resolution-utility-optional-but-highly-recommended aria-label="8. Custom Resolution Utility (Optional but highly recommended)">8. Custom Resolution Utility (Optional but highly recommended)</a></li></ul></li></ul></li><li><a href=#cost-of-cloud-gaming-on-aws aria-label="Cost of Cloud Gaming on AWS">Cost of Cloud Gaming on AWS</a></li><li><a href=#for-your-eyes-only- aria-label="For your eyes only 👀">For your eyes only 👀</a></li><li><a href=#todos-and-future-plans-conclusion aria-label="TODOs and future plans (Conclusion)">TODOs and future plans (Conclusion)</a></li></ul></div></details></div><div class=post-content><h1 id=the-problem>The problem<a hidden class=anchor aria-hidden=true href=#the-problem>#</a></h1><p>During times of a pandemic, many have reverted to their desks at home not only for work, but also beyond it. All this started, as I tried to play CyberPunk 2077 🤖. Now, I&rsquo;m not a &ldquo;gamer&rdquo;, please don&rsquo;t judge me, but I do enjoy a good book, and sci-fi is my forte. So couldn&rsquo;t give this one a pass. The challenge was that I&rsquo;ve quite a beefy rig, with 32GB DDR4 ram, and a 16-core XEON, with a measly Quadro k1200 😓. Even worse was trying on the <a href=https://support.cdprojektred.com/en/cyberpunk/xbox/sp-technical/issue/1763/my-game-crashes-8>XBOX One X from last generation</a> constantly crashing.</p><p>☁ Cloud gaming has taken shape rapidly in 2020, behind the scenes with platforms such as Stadia, GeForce NOW, and even AWS launching <a href=https://www.amazon.com/luna/landing-page>Luna</a>. However, wide adoption is yet to be seen here in this subcontinent 🦘🪃, with us still relying on painfully slow NBN, and over expensive capped mobile 5G data. To add to the pain, the price of a relatively new GPU is to sell a kidney off, if they&rsquo;re even available in stores ! The Next-gen consoles, are all out of stock, and <a href=https://www.tomsguide.com/news/ps5-and-xbox-series-x-scalpers-ruining-restocks-what-you-can-do-now>scalpers</a> are aiming for afr rich-list this year 💵.</p><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-5205766380454070 data-ad-slot=5205766380454070></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><h1 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h1><p>This post is about how we can use AWS to our rescue, and leverage gpu instances, albeit not originally designed for gaming, to the rescue. However, it wouldn&rsquo;t stop me from playing a game after almost a decade.</p><h1 id=tools-in-my-arsenal->Tools in my arsenal 🛠<a hidden class=anchor aria-hidden=true href=#tools-in-my-arsenal->#</a></h1><h2 id=aws-g4dn-ec2-instance>AWS G4dn EC2 Instance<a hidden class=anchor aria-hidden=true href=#aws-g4dn-ec2-instance>#</a></h2><p><a href=https://aws.amazon.com/ec2/instance-types/g4/>G4dn instances</a>, <code>powered by NVIDIA T4 GPUs, are the lowest cost GPU-based instances in the cloud for machine learning inference and small scale training. They also provide high performance and are a cost-effective solution for graphics applications that are optimized for NVIDIA GPUs using NVIDIA libraries such as CUDA, CuDNN, and NVENC. They provide up to 8 NVIDIA T4 GPUs, 96 vCPUs, 100 Gbps networking, and 1.8 TB local NVMe-based SSD storage and are also available as bare metal instances.</code></p><p><strong>Well Whatttt !!!</strong></p><p>From what I can say, the <a href=https://askgeek.io/en/gpus/vs/NVIDIA_GeForce-RTX-2080-vs-NVIDIA_Tesla-T4>T4 is half the performance of an RTX 2080</a>, still at the cost of the instances, it&rsquo;s a steal. Now the 2080 is not even remotely close to what I would love to have, i.e. a 3080/90, but at least ray tracing, and NVENC. I would come to the technical details of NVENC soon, and trust me it&rsquo;s important 🤔.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/g4dn-instances.png width=580 alt="AWS G4dn"><br><span class="mb3 i f6">&#187; AWS G4dn Instance Specs &#171;</span></p><blockquote><p>These instances were clearly designed for machine learning, so I guess it&rsquo;s fair if they don&rsquo;t perform as amazing gaming rigs, spewing out unicorn vomit. But they still put out a fair fight, for the price, and no need to upgrade to a newer GPU/CPU/RAM every season.</p></blockquote><p></p><h2 id=parsec>Parsec<a hidden class=anchor aria-hidden=true href=#parsec>#</a></h2><p>I guess there&rsquo;s no point to argue over the almighty <a href="https://www.youtube.com/watch?v=B821HqH-dWI">Linus Tech Tips, when he&rsquo;s using this for his team to edit LTT videos</a>. Shhhh&mldr; I&rsquo;m a nerd, and not advocating for the almighty. But once a birdie referred to me as &ldquo;Brown Anthony&rdquo; 🤎, and actually I was quite happy for it 😊.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/B821HqH-dWI style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><hr><p>The amazing thing about Parsec is the BUD protocol. Parsec uses its own peer-to-peer networking protocol called BUD; Better User Datagrams (naming is hard). BUD has been optimized for low-latency video delivery based on the data gathered over a three year period. With a 97% NAT traversal success rate and lightning fast adjustment to packet loss and congestion, BUD is the cornerstone of the Parsec SDK.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/VDR8ws0eIbI style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><hr><p>The basic setup for game streaming involves</p><blockquote><p>capture -> encode -> network -> decode -> render ->capture</p></blockquote><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/parsec-architecture.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 1200px" srcset="/posts/instant-insance/cloud-gaming/images/parsec-architecture_hud1f7c4ff29bd322714935bd1bcd0aa9a_143717_640x640_fit_box_2.png 640w, /posts/instant-insance/cloud-gaming/images/parsec-architecture_hud1f7c4ff29bd322714935bd1bcd0aa9a_143717_960x960_fit_box_2.png 960w" width=1200 alt="Parsec-AWS Architecture"><br><span class="mb3 i f6">&#187; Parsec-AWS Architecture &#171;</span></p><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-5205766380454070 data-ad-slot=5205766380454070></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><h2 id=nvenc>NVENC<a hidden class=anchor aria-hidden=true href=#nvenc>#</a></h2><p>Hardware plays a huge role in the performance of these connections. The most important part of that being the encoding latency of the video. Encoding latency is the amount of time it takes for the hardware on a GPU to compress a frame of video captured off of the GPU to prepare it to be shipped across the internet to the guest PC. Nvidia’s <a href=https://www.nvidia.com/en-au/geforce/news/geforce-rtx-streaming/>NVENC</a> is approximately 2.59 times faster than AMD VCE and 1.89 times faster than Intel Quick Sync. The median encoding latency for an Nvidia card is 5.8 milliseconds; whereas, the median encoding latency on VCE is 15.06 milliseconds. This encoding latency is measured across all Co-Play sessions in Parsec, so there’s definitely a performance difference between newer generation cards than older generation cards, which we will examine in a future post.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/geforce-rtx-streaming-new-obs-002.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2196px" srcset="/posts/instant-insance/cloud-gaming/images/geforce-rtx-streaming-new-obs-002_hu49b882abc17cd18e7ca78c971453ee7f_89885_640x640_fit_box_2.png 640w, /posts/instant-insance/cloud-gaming/images/geforce-rtx-streaming-new-obs-002_hu49b882abc17cd18e7ca78c971453ee7f_89885_960x960_fit_box_2.png 960w, /posts/instant-insance/cloud-gaming/images/geforce-rtx-streaming-new-obs-002_hu49b882abc17cd18e7ca78c971453ee7f_89885_1280x1280_fit_box_2.png 1280w" width=2196 alt="NVIDIA NVENC"><br><span class="mb3 i f6">&#187; RTX Game Streaming &#171;</span></p><p>The NVENC Encoder plays key role in the decision behind selection of the G4dn instance, considering it supports this feature. Parsec can not only use this, but also encode in H265 hardware-accelerated, as of now. This was ideally what I was looking for, and a win-win for this use case.</p><h2 id=aws-automation->AWS Automation 🤖<a hidden class=anchor aria-hidden=true href=#aws-automation->#</a></h2><p>While there have been some isolated attempts at AWS Cloud Gaming approach, none so far has dived into this simple tool. At the end of the day to reduce costs, as simple trick is to create an ami of the instance (it also creates the snapshot with it). This is a much simpler approach than AWS Lambda - based one, and as I always say KISS&mldr;</p><p><strong>Automation Document</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#e6db74>&#34;mainSteps&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> [
    {
      <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;createImage&#34;</span>,
      <span style=color:#f92672>&#34;action&#34;</span>: <span style=color:#e6db74>&#34;aws:createImage&#34;</span>,
      <span style=color:#f92672>&#34;onFailure&#34;</span>: <span style=color:#e6db74>&#34;Abort&#34;</span>,
      <span style=color:#f92672>&#34;inputs&#34;</span>: {
        <span style=color:#f92672>&#34;InstanceId&#34;</span>: <span style=color:#e6db74>&#34;{{ InstanceId }}&#34;</span>,
        <span style=color:#f92672>&#34;ImageName&#34;</span>: <span style=color:#e6db74>&#34;{{ InstanceId }}-{{global:DATE_TIME}}-{{automation:EXECUTION_ID}}&#34;</span>,
        <span style=color:#f92672>&#34;ImageDescription&#34;</span>: <span style=color:#e6db74>&#34;${var.instance_name}-ami-{{global:DATE_TIME}}&#34;</span>,
        <span style=color:#f92672>&#34;NoReboot&#34;</span>: <span style=color:#e6db74>&#34;{{ NoReboot }}&#34;</span>
      },
      <span style=color:#f92672>&#34;nextStep&#34;</span>: <span style=color:#e6db74>&#34;stopInstances&#34;</span>
    },
    {
      <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;stopInstances&#34;</span>,
      <span style=color:#f92672>&#34;action&#34;</span>: <span style=color:#e6db74>&#34;aws:changeInstanceState&#34;</span>,
      <span style=color:#f92672>&#34;onFailure&#34;</span>: <span style=color:#e6db74>&#34;step:deleteImage&#34;</span>,
      <span style=color:#f92672>&#34;inputs&#34;</span>: {
        <span style=color:#f92672>&#34;InstanceIds&#34;</span>: [<span style=color:#e6db74>&#34;{{ InstanceId }}&#34;</span>],
        <span style=color:#f92672>&#34;DesiredState&#34;</span>: <span style=color:#e6db74>&#34;terminated&#34;</span>
      },
      <span style=color:#f92672>&#34;nextStep&#34;</span>: <span style=color:#e6db74>&#34;deleteImage&#34;</span>
    },
    {
      <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;deleteImage&#34;</span>,
      <span style=color:#f92672>&#34;action&#34;</span>: <span style=color:#e6db74>&#34;aws:deleteImage&#34;</span>,
      <span style=color:#f92672>&#34;onFailure&#34;</span>: <span style=color:#e6db74>&#34;step:storeAMIId&#34;</span>,
      <span style=color:#f92672>&#34;inputs&#34;</span>: {
        <span style=color:#f92672>&#34;ImageId&#34;</span>: <span style=color:#e6db74>&#34;{{ ToDeleteImageId }}&#34;</span>
      },
      <span style=color:#f92672>&#34;nextStep&#34;</span>: <span style=color:#e6db74>&#34;storeAMIId&#34;</span>
    },
    {
      <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;storeAMIId&#34;</span>,
      <span style=color:#f92672>&#34;action&#34;</span>: <span style=color:#e6db74>&#34;aws:executeAwsApi&#34;</span>,
      <span style=color:#f92672>&#34;onFailure&#34;</span>: <span style=color:#e6db74>&#34;Abort&#34;</span>,
      <span style=color:#f92672>&#34;inputs&#34;</span>: {
        <span style=color:#f92672>&#34;Service&#34;</span>: <span style=color:#e6db74>&#34;ssm&#34;</span>,
        <span style=color:#f92672>&#34;Api&#34;</span>: <span style=color:#e6db74>&#34;PutParameter&#34;</span>,
        <span style=color:#f92672>&#34;Name&#34;</span>: <span style=color:#e6db74>&#34;${var.ssm_ami_parameter_name}&#34;</span>,
        <span style=color:#f92672>&#34;Overwrite&#34;</span>: <span style=color:#66d9ef>true</span>,
        <span style=color:#f92672>&#34;Value&#34;</span>: <span style=color:#e6db74>&#34;{{ createImage.ImageId }}&#34;</span>
      }
    }
  ]
</code></pre></div><p>This beautifully does&mldr;</p><blockquote><p>Creates the AMI -> Terminates the instance -> Deletes the older Image -> Stores the new AMI Id in SSM Parameter Store</p></blockquote><p>The next time <code>terraform apply</code> is triggered, it would grab this new ami from the SSM Parameter Store as a <code>data</code> source.</p><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-5205766380454070 data-ad-slot=5205766380454070></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><h1 id=my-setup---terraform->My Setup - Terraform 🪄<a hidden class=anchor aria-hidden=true href=#my-setup---terraform->#</a></h1><p>As usual, I would&rsquo;ve and would be automating the provisioning, so I ended up using my old friend Terraform for the job. Although, you probably can us any tools such as Pulumi / AWS CDK / CloudFormation, and possibly even AWS CLI 😜. I&rsquo;ve uploaded the repo to github for reference and usage, it&rsquo;s well documented in-code for the curious one. However, the ultimate goal is yet to be achieved, fully automated provisioning.</p><p><strong><a href=https://github.com/debanjanbasu/instant-instance/>github.com/debanjanbasu/instant-instance - Github Repo</a></strong></p><p>The setup involves simple steps of</p><h2 id=1-initialize-the-tf-backend---and-the-ec2-instance>1. Initialize the tf backend - and the EC2 Instance<a hidden class=anchor aria-hidden=true href=#1-initialize-the-tf-backend---and-the-ec2-instance>#</a></h2><ol><li><code>terraform init</code> Downloads the initial modules and all</li><li><code>terraform apply -auto-approve</code> Creates the backend.tf file with the config and the s3 bucket</li><li><code>terraform init -force-copy</code> Copies the local state to s3</li><li><code>terraform output instance_password</code> This is the generated Administrator password for the instance</li></ol><h2 id=2-rdp-into-the-instance>2. RDP into the instance<a hidden class=anchor aria-hidden=true href=#2-rdp-into-the-instance>#</a></h2><p>Immediately as you RDP into the instance the automation kicks in, this is a deferred windows task to prepare the entire instance for gaming - SWEEEET 🤟.</p><p>It installs the following items automagically:</p><ul><li>Parsec</li><li>Latest NVIDIA Grid Driver - with AWS License</li><li>Razer Surround - No need to register or login, this is for Audio Passthrough</li><li>The following tools optionally - via <code>variables</code> passed to the cloud-gaming-instance tf module<ul><li>Steam</li><li>GOG Galaxy</li><li>UPlay</li><li>Origin</li><li>Epic Games Launcher</li></ul></li></ul><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/parsec-installation_hue438b2348baf721ca7775d441ea91780_2227639_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/parsec-installation_hue438b2348baf721ca7775d441ea91780_2227639_04e758e87949d1cb6eeaea5edf8f7d41.png 640w, /posts/instant-insance/cloud-gaming/images/parsec-installation_hue438b2348baf721ca7775d441ea91780_2227639_2cb0468c6557f511249896ca82b6843a.png 960w, /posts/instant-insance/cloud-gaming/images/parsec-installation_hue438b2348baf721ca7775d441ea91780_2227639_85b5c111fc9a69e23a7514daf54c3757.png 1280w, /posts/instant-insance/cloud-gaming/images/parsec-installation_hue438b2348baf721ca7775d441ea91780_2227639_b7bb3dd1c50fd92652f14469cf40c07b.png 1920w" width=2560 alt="Parsec Auto Installation"><br><span class="mb3 i f6">&#187; Parsec Auto Installation &#171;</span></p><h2 id=3-configure-the-instance>3. Configure The Instance<a hidden class=anchor aria-hidden=true href=#3-configure-the-instance>#</a></h2><p>The instance is pretty much pre-configured with the minimal intervention.</p><h3 id=1-parsec-login>1. Parsec Login<a hidden class=anchor aria-hidden=true href=#1-parsec-login>#</a></h3><p>You would still need to login into your Parsec account, and verify the confirmaiton email 📩, as a new machine is being joined to the network.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/parsec-login_hue438b2348baf721ca7775d441ea91780_1851698_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/parsec-login_hue438b2348baf721ca7775d441ea91780_1851698_fc17e75707456a7b2153056e5768b4be.png 640w, /posts/instant-insance/cloud-gaming/images/parsec-login_hue438b2348baf721ca7775d441ea91780_1851698_d9e6d62dff1b21b80944d7f06d9556c4.png 960w, /posts/instant-insance/cloud-gaming/images/parsec-login_hue438b2348baf721ca7775d441ea91780_1851698_a8090b9cc8bb84c1c620ad211f516c15.png 1280w, /posts/instant-insance/cloud-gaming/images/parsec-login_hue438b2348baf721ca7775d441ea91780_1851698_f87f178396232c4a7c70094db50d3675.png 1920w" width=2560 alt="Parsec Login"><br><span class="mb3 i f6">&#187; Parsec Login &#171;</span></p><h3 id=2-ignore--login-into-razer-surround>2. Ignore / Login into Razer Surround<a hidden class=anchor aria-hidden=true href=#2-ignore--login-into-razer-surround>#</a></h3><p>Either login / do nothing 🙃.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/razer-ignore_hue438b2348baf721ca7775d441ea91780_1893995_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/razer-ignore_hue438b2348baf721ca7775d441ea91780_1893995_0a79942af3559f6804883915266692bc.png 640w, /posts/instant-insance/cloud-gaming/images/razer-ignore_hue438b2348baf721ca7775d441ea91780_1893995_8525a83cca2e3b175a3a9bf0948f2a87.png 960w, /posts/instant-insance/cloud-gaming/images/razer-ignore_hue438b2348baf721ca7775d441ea91780_1893995_15e44e05242e997bf84ababb1e49c569.png 1280w, /posts/instant-insance/cloud-gaming/images/razer-ignore_hue438b2348baf721ca7775d441ea91780_1893995_41460b9a8cd94db9262972c3969e4912.png 1920w" width=2560 alt="Razer Ignore"><br><span class="mb3 i f6">&#187; Razer Ignore &#171;</span></p><h3 id=3-setup-ephimeral-storage-as-game-disk--cache>3. Setup Ephimeral Storage as Game Disk / Cache<a hidden class=anchor aria-hidden=true href=#3-setup-ephimeral-storage-as-game-disk--cache>#</a></h3><p>These instances do come with high-speed Ephimeral Storage, so why not use it to download or as a game-cache. Simply open up the Disk Partition Utility to initialize this disk, or for advanced users <a href=https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2launch-v2-overview.html>EC2 Launch v2</a> (the selected image comes pre-built with this beauty).</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/setup-ephimeral-storage_hue438b2348baf721ca7775d441ea91780_1546290_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/setup-ephimeral-storage_hue438b2348baf721ca7775d441ea91780_1546290_1a301a100ce26339258a239deb61877c.png 640w, /posts/instant-insance/cloud-gaming/images/setup-ephimeral-storage_hue438b2348baf721ca7775d441ea91780_1546290_169c2aa1721bfe5255c00111a7998078.png 960w, /posts/instant-insance/cloud-gaming/images/setup-ephimeral-storage_hue438b2348baf721ca7775d441ea91780_1546290_d170af8e60c83975d834449aaa8a854f.png 1280w, /posts/instant-insance/cloud-gaming/images/setup-ephimeral-storage_hue438b2348baf721ca7775d441ea91780_1546290_89ebbe99d5a7edd67489b385cd6a3c0c.png 1920w" width=2560 alt="Setup Ephimeral"><br><span class="mb3 i f6">&#187; Setup Ephimeral &#171;</span></p><h3 id=4-increase-parsec-bitrate-optional>4. Increase Parsec Bitrate (Optional)<a hidden class=anchor aria-hidden=true href=#4-increase-parsec-bitrate-optional>#</a></h3><p>If you&rsquo;ve got a good internet connection, why not increase the maximum bitrate, this can be increased even more from a manual config. I would recommend 100MBps custom config, for NBN users on 100MBps plans. Be careful though, if you&rsquo;re not on Unlimited bandwith.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/max-bitrate.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2513px" srcset="/posts/instant-insance/cloud-gaming/images/max-bitrate_hu861c8956dc2d31efb51e2bb21ab34ddf_492573_640x640_fit_box_2.png 640w, /posts/instant-insance/cloud-gaming/images/max-bitrate_hu861c8956dc2d31efb51e2bb21ab34ddf_492573_960x960_fit_box_2.png 960w, /posts/instant-insance/cloud-gaming/images/max-bitrate_hu861c8956dc2d31efb51e2bb21ab34ddf_492573_1280x1280_fit_box_2.png 1280w, /posts/instant-insance/cloud-gaming/images/max-bitrate_hu861c8956dc2d31efb51e2bb21ab34ddf_492573_1920x1920_fit_box_2.png 1920w" width=2513 alt="Parsec Max Bitrate"><br><span class="mb3 i f6">&#187; Parsec Max Bitrate &#171;</span></p><h3 id=5-setup-shutdown-on-idle--1-hour-notice-optional>5. Setup Shutdown on Idle & 1 hour notice (Optional)<a hidden class=anchor aria-hidden=true href=#5-setup-shutdown-on-idle--1-hour-notice-optional>#</a></h3><p>These are nifty scripts (located conveniently on the desktop) to shutdown the instance on Idle, and to notify the gamer, when 1 hour of gaming is about to be reached (EC2 instances are billed hourly).</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/idle-shutdown_hue438b2348baf721ca7775d441ea91780_758548_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/idle-shutdown_hue438b2348baf721ca7775d441ea91780_758548_10c180d3aa83e3146201fd56c65e51fd.png 640w, /posts/instant-insance/cloud-gaming/images/idle-shutdown_hue438b2348baf721ca7775d441ea91780_758548_b23ceb75e98ea4940277491d1b72a921.png 960w, /posts/instant-insance/cloud-gaming/images/idle-shutdown_hue438b2348baf721ca7775d441ea91780_758548_ec3d071b87e478ecb11ecdbd5049d730.png 1280w, /posts/instant-insance/cloud-gaming/images/idle-shutdown_hue438b2348baf721ca7775d441ea91780_758548_d8ab9c593448cd12d2fddb922410014c.png 1920w" width=2560 alt="Idle Shutdown"><br><span class="mb3 i f6">&#187; Idle Shutdown &#171;</span>
<img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/1-hour-notice_hue438b2348baf721ca7775d441ea91780_682199_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/1-hour-notice_hue438b2348baf721ca7775d441ea91780_682199_69abbc5c18662d29401c336e9ed771e6.png 640w, /posts/instant-insance/cloud-gaming/images/1-hour-notice_hue438b2348baf721ca7775d441ea91780_682199_a1f30a4b1f3fbe1935bfc797b7392ecf.png 960w, /posts/instant-insance/cloud-gaming/images/1-hour-notice_hue438b2348baf721ca7775d441ea91780_682199_37e5fd93f7ab9c07393deb5f74a8cc78.png 1280w, /posts/instant-insance/cloud-gaming/images/1-hour-notice_hue438b2348baf721ca7775d441ea91780_682199_d2c9ddd286a7cc9b3eefefe39dc13b25.png 1920w" width=2560 alt="1 hour notice"><br><span class="mb3 i f6">&#187; 1 hour notice &#171;</span></p><h3 id=6-overclocking--nvidia-opengl-rdp-optional-but-highly-recommended>6. Overclocking & NVIDIA OpenGL RDP (Optional but highly recommended)<a hidden class=anchor aria-hidden=true href=#6-overclocking--nvidia-opengl-rdp-optional-but-highly-recommended>#</a></h3><ul><li><p>What&rsquo;s gaming, without a bit of overclocking! Fortunately the G4dn instances do support nvsmi tool. Use the following in PowerShell to configure it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>cd <span style=color:#e6db74>&#34;C:\Program Files\NVIDIA Corporation\NVSMI&#34;</span>
.\nvidia-smi --auto-boost-default=0
.\nvidia-smi -ac <span style=color:#e6db74>&#34;5001,1590&#34;</span>
</code></pre></div><p>There&rsquo;s a <a href=https://github.com/debanjanbasu/instant-instance/blob/main/overclock-gpu.ps1>powershell script in the repo</a> to automate this too.</p><p>NVIDIA has created a special tool for GeForce GPUs to accelerate Windows Remote Desktop streaming with GeForce drivers R440 or later.</p></li><li><p>Download and run the <a href=https://developer.nvidia.com/nvidia-opengl-rdp>executable</a> (nvidiaopenglrdp.exe) from the DesignWorks website as Administrator on the remote Windows PC where your OpenGL application will run. A dialog will confirm that OpenGL acceleration is enabled for Remote Desktop and if a reboot is required.</p><p>You would need to hold an nvidia developer account, or create one for free.</p></li></ul><h3 id=7-client-machine-parsec-settings-optional-but-highly-recommended>7. Client Machine Parsec Settings (Optional but highly recommended)<a hidden class=anchor aria-hidden=true href=#7-client-machine-parsec-settings-optional-but-highly-recommended>#</a></h3><p>Parsec does support hardware accelerated decoding on the client machine too. If your pc supports <strong>H.265</strong>, possibly the best, but <strong>H.264</strong> doesn&rsquo;t lag behind too much. Ensure these options are checked to get the best possible results.</p><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/client-machine-settings.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2552px" srcset="/posts/instant-insance/cloud-gaming/images/client-machine-settings_hu1f258a9db949cad40ba7005207d3b083_328606_640x640_fit_box_2.png 640w, /posts/instant-insance/cloud-gaming/images/client-machine-settings_hu1f258a9db949cad40ba7005207d3b083_328606_960x960_fit_box_2.png 960w, /posts/instant-insance/cloud-gaming/images/client-machine-settings_hu1f258a9db949cad40ba7005207d3b083_328606_1280x1280_fit_box_2.png 1280w, /posts/instant-insance/cloud-gaming/images/client-machine-settings_hu1f258a9db949cad40ba7005207d3b083_328606_1920x1920_fit_box_2.png 1920w" width=2552 alt="Parsec Hardware Decoding"><br><span class="mb3 i f6">&#187; Parsec Hardware Decoding &#171;</span></p><h3 id=8-custom-resolution-utility-optional-but-highly-recommended>8. Custom Resolution Utility (Optional but highly recommended)<a hidden class=anchor aria-hidden=true href=#8-custom-resolution-utility-optional-but-highly-recommended>#</a></h3><p>Parsec does support up-to 4k natively without any issue, but I do happen to have a super-ultrawide gaming monitor. So why not get gaming at those exceptional aspect ratios. Unfortunately, the NVIDIA driver provided by AWS doesn&rsquo;t allow for custom resolution changes. The workaround is to use this sweet tool called <a href=https://www.monitortests.com/forum/Thread-Custom-Resolution-Utility-CRU>Custom Resolution Utility</a>.
Fire it up, and you can add any custom resolutions, or directly export and import form your client machine, easy.</p><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-5205766380454070 data-ad-slot=5205766380454070></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><h1 id=cost-of-cloud-gaming-on-aws>Cost of Cloud Gaming on AWS<a hidden class=anchor aria-hidden=true href=#cost-of-cloud-gaming-on-aws>#</a></h1><p>The infrastructure provisioned is already highly optimized, but can be improved further. The cost depends on your region and the type of instance you are using but AWS’ scalable platform allows individuals to create a cloud gaming setup inexpensively. If you wanted to keep the prices as low as possible, you can use a spot Amazon EC2 instance. What spot pricing allows you to do is bid on unused Amazon EC2 instance at a significant reduced rate. Roughly 1/7th the regular cost than regular instances. However, costs vary depending on the region, and prices will also reflect the demand of these spot instances. By comparison, on-demand instances have a fixed rate that won’t fluctuate based on demand unless Amazon changes them.</p><p>Some sample data for reference are (based on Sydney Region):</p><table><thead><tr><th>GPU Instances - Current Generation</th><th style=text-align:center></th><th>Cost / month</th></tr></thead><tbody><tr><td>g4dn.xlarge (10 hours of gaming/week)</td><td style=text-align:center>$0.3892 per Hour</td><td>$15.57</td></tr><tr><td>Snapshot Storage Cost (1% change, as you play daily)</td><td style=text-align:center>128GB</td><td>$9.13</td></tr><tr><td>Total (per month)</td><td style=text-align:center></td><td>$24.70</td></tr></tbody></table><p>Not bad for <strong>$24.70 for a month</strong>, gaming at maximum settings 60FPS with Ray-Tracing 🌈. There are competing services elsewhere, but this allows for any games to be played, with BYOL licensing, greatly reducing the overall cost.</p><blockquote><p>The cost of Cyberpunk 2077 on launch day itself was $100 😅</p></blockquote><p>You’ll need to use some disk space for the Amazon EC2 instance. Whenever you decide to spin up an Amazon EC2 instance, you base the instance on an AMI (Amazon Machine Image). The AMI will already be pre-configured with a Windows install and will be copied to a general-purpose (gp3) Amazon EBS storage (Elastic Block Store). Whenever you terminate the instance, the Amazon EBS storage is deleted with it, and a snapshot created for it. The price for this storage depends on the region you are in.</p><p>The cost settings for the infra is can be controlled from this bit in terraform from the <code>main.tf</code> file, and the amount from <a href=https://aws.amazon.com/ec2/spot/pricing/>AWS spot historical data</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-terraform data-lang=terraform><span style=color:#66d9ef>module</span> <span style=color:#e6db74>&#34;instant_instance&#34;</span> {
  ...
  <span style=color:#a6e22e>instance_type</span>   = <span style=color:#e6db74>&#34;g4dn.2xlarge&#34;</span>
  <span style=color:#a6e22e>instance_name</span>   = <span style=color:#a6e22e>local</span>.<span style=color:#a6e22e>instance_name</span><span style=color:#75715e>
</span><span style=color:#75715e>  # Check pricing from https://aws.amazon.com/ec2/spot/pricing/
</span><span style=color:#75715e>  # TODO - Automate in the future
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>spot_max_price</span> = <span style=color:#ae81ff>1</span>.<span style=color:#ae81ff>0</span><span style=color:#75715e>
</span><span style=color:#75715e>  # IMP - Please install the tools and all in the first time
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>skip_install</span> = <span style=color:#66d9ef>false</span>
  ...
}
</code></pre></div><p>To achieve maximum cost optimization, the disks are terminated immediately on shutdown. There is <a href=https://github.com/debanjanbasu/instant-instance/blob/main/create-ami-ssm-shutdown.ps1>automation also to create the AMI and cleanup of previous one</a>, for playing again.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>$InstanceId=(Invoke-WebRequest -Uri <span style=color:#e6db74>&#39;http://169.254.169.254/latest/meta-data/instance-id&#39;</span>).Content

<span style=color:#75715e># Run the automation job</span>
aws ssm start-automation-execution --document-name <span style=color:#e6db74>&#34;image-reimage&#34;</span> `
    --parameters InstanceId=$InstanceId
</code></pre></div><p>You can either execute this from within the instance, or from your local environment, or even as terraform <code>local-exec</code>.</p><h1 id=for-your-eyes-only->For your eyes only 👀<a hidden class=anchor aria-hidden=true href=#for-your-eyes-only->#</a></h1><p><img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/impressive-latency_hu40051b6e47c708a61a6d4da95b4abe53_3803418_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/impressive-latency_hu40051b6e47c708a61a6d4da95b4abe53_3803418_f2fa0537951a140e8426a7d119f94e1d.png 640w, /posts/instant-insance/cloud-gaming/images/impressive-latency_hu40051b6e47c708a61a6d4da95b4abe53_3803418_395ca3b2d286691cde51def6670b0ff5.png 960w, /posts/instant-insance/cloud-gaming/images/impressive-latency_hu40051b6e47c708a61a6d4da95b4abe53_3803418_f078b69a76721f7b4c9be545748eb7a8.png 1280w, /posts/instant-insance/cloud-gaming/images/impressive-latency_hu40051b6e47c708a61a6d4da95b4abe53_3803418_77688da98ff2aebfc205ede2b6bd6684.png 1920w" width=2560 alt="Parsec Low Latency"><br><span class="mb3 i f6">&#187; Parsec Low Latency &#171;</span>
<img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/in-game-1_hu40051b6e47c708a61a6d4da95b4abe53_3487411_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/in-game-1_hu40051b6e47c708a61a6d4da95b4abe53_3487411_7685b6369716f6fe035b987186ca9f96.png 640w, /posts/instant-insance/cloud-gaming/images/in-game-1_hu40051b6e47c708a61a6d4da95b4abe53_3487411_fefdda3d30078791355fce52e235a683.png 960w, /posts/instant-insance/cloud-gaming/images/in-game-1_hu40051b6e47c708a61a6d4da95b4abe53_3487411_f8c8cef45cea1016a42b2c5674344051.png 1280w, /posts/instant-insance/cloud-gaming/images/in-game-1_hu40051b6e47c708a61a6d4da95b4abe53_3487411_54f08119c6d26149eabcabe5cc0a2ee8.png 1920w" width=2560 alt=In-Game><br><span class="mb3 i f6">&#187; In-Game &#171;</span>
<img class=lazy loading=lazy src=/posts/instant-insance/cloud-gaming/images/RTX-max-settings_hu40051b6e47c708a61a6d4da95b4abe53_4592085_2560x2560_fit_box_2.png sizes="(min-width: 1023px) 780px, (min-width: 675px) 620px, 100vw, 2560px" srcset="/posts/instant-insance/cloud-gaming/images/RTX-max-settings_hu40051b6e47c708a61a6d4da95b4abe53_4592085_3cfaaa546b235e3e8fea11e48e9d5abf.png 640w, /posts/instant-insance/cloud-gaming/images/RTX-max-settings_hu40051b6e47c708a61a6d4da95b4abe53_4592085_72f77d2f804dfb671aa8239fc46dcc59.png 960w, /posts/instant-insance/cloud-gaming/images/RTX-max-settings_hu40051b6e47c708a61a6d4da95b4abe53_4592085_d920d16430d5ee3df904da9124d42ea7.png 1280w, /posts/instant-insance/cloud-gaming/images/RTX-max-settings_hu40051b6e47c708a61a6d4da95b4abe53_4592085_6f1f12451aa27cee0293d31f410f24a7.png 1920w" width=2560 alt="RTX max settings"><br><span class="mb3 i f6">&#187; RTX max settings &#171;</span></p><h1 id=todos-and-future-plans-conclusion>TODOs and future plans (Conclusion)<a hidden class=anchor aria-hidden=true href=#todos-and-future-plans-conclusion>#</a></h1><ol><li>Automate the retrieval of Spot Instance price</li><li>Send a push notification to the user&rsquo;s device before spot termination</li><li>Automate offloading of games to S3</li><li>Automate activation of Parsec Account if possible</li><li>Build a custom Parsec-SDK based client</li></ol><p>As of now, this is one of the best ways to enjoy game streaming in Australia, until GeForce Now launches down under 😭🇦🇺. Thereafter, the cost of the games themselves might balloon the overall cost eventually. Trust me, this happens more often than we realize with subscription based services.</p><p>My future goal is to completely automate this provisioning, and allow anyone with an AWS account to be able to just enter their access-key to spin up an Instant Cloud Gaming Instance immediately.</p><p>Please feel free to reach out to me for further clarification, to get your setup up and running. It might sound complex, but tust me it&rsquo;s worth it 😅. Always open to advice, and improvements.</p><p>Reach out to me from any of the channels below&mldr;.</p><p>👇</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://techdownunder.ga/tags/aws/>aws</a></li><li><a href=https://techdownunder.ga/tags/cloud/>cloud</a></li><li><a href=https://techdownunder.ga/tags/gaming/>gaming</a></li><li><a href=https://techdownunder.ga/tags/cyberpunk/>cyberpunk</a></li><li><a href=https://techdownunder.ga/tags/australia/>Australia</a></li><li><a href=https://techdownunder.ga/tags/4k/>4k</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on twitter" href="https://twitter.com/intent/tweet/?text=Personal%20Cloud%20Gaming%20Rig%20Setup&url=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f&hashtags=aws%2ccloud%2cgaming%2ccyberpunk%2cAustralia%2c4k"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f&title=Personal%20Cloud%20Gaming%20Rig%20Setup&summary=Personal%20Cloud%20Gaming%20Rig%20Setup&source=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f&title=Personal%20Cloud%20Gaming%20Rig%20Setup"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on whatsapp" href="https://api.whatsapp.com/send?text=Personal%20Cloud%20Gaming%20Rig%20Setup%20-%20https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Personal Cloud Gaming Rig Setup on telegram" href="https://telegram.me/share/url?text=Personal%20Cloud%20Gaming%20Rig%20Setup&url=https%3a%2f%2ftechdownunder.ga%2fposts%2finstant-insance%2fcloud-gaming%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"techdownunder-1"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2021 <a href=https://techdownunder.ga>💻 ⏬ under 😜</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>var lazyLoadInstance=new LazyLoad({elements_selector:".lazy",});</script><script defer src=/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>